<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<meta name="referrer" content="no-referrer" />
		<title>mini_engine</title>
		<style>
			#myCanvas {
				background-color: #95a5a6;
			}
		</style>
	</head>
	<body>
		<script src="mini_engine.js"></script>
		<script src="mini_engine.min.js"></script>
		<canvas id="myCanvas" width="500" height="500"></canvas>

		<script>
			const { RES, Display, Image: CImage } = mini_engine
			const canvas = document.getElementById('myCanvas')
			const ctx = canvas.getContext('2d')

			const mapJson = [
				{
					key: 'header',
					url: 'https://vitepress-source.oss-cn-beijing.aliyuncs.com/typoraimage-20220326203849385.png',
					type: 'image',
				},
				{
					key: 'bg',
					url: 'data:image/jpeg;base64,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',
					type: 'image',
				},
				{
					key: 'clean',
					url: 'https://shiheng-tech.oss-cn-shanghai.aliyuncs.com/shihengtest//1655171440449/%E7%AB%99%E9%95%BF%E7%B4%A0%E6%9D%90%28sc.chinaz.com%29.mp3?Expires=3231971440&OSSAccessKeyId=LTAI4G9rgor8RbRNVjtsLqxi&Signature=pcqUeIU9AMRFelOpaP%2B4zANc3x0%3D',
					type: 'sound',
				},
			]

			RES.resolve(mapJson, (process, sum) => {
				console.log('进度~', process, sum)
			})

			RES.onLoad(() => {
				const display = new Display(canvas, ctx)
				const cImg = new CImage({
					leftTop: {
						x: 200,
						y: 200,
					},
					width: 50,
					height: 50,
					source: RES.getRes('header'),
				})
				display.add(cImg)

				setTimeout(() => {
					cImg.change(
						{
							source: RES.getRes('bg'),
							width: 100,
							height: 50,
						},
						display
					)
				}, 500)
				console.log(RES.getRes('clean').play())
			})

			// console.log('res', res)
		</script>
	</body>
</html>
