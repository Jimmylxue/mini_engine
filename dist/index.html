<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Document</title>
		<style>
			#myCanvas {
				background-color: #1abc9c;
				/* width: 500px;
				height: 500px; */
			}
		</style>
	</head>
	<body>
		<script src="mini_engine.js"></script>
		<script src="mini_engine.min.js"></script>
		<canvas id="myCanvas" width="500" height="500"></canvas>

		<script>
			const { Display, Rect, Circle, CImage } = mini_engine
			const canvas = document.getElementById('myCanvas')
			const ctx = canvas.getContext('2d')

			const display = new Display(canvas, ctx)
			const rect = new Rect({
				leftTop: { x: 0, y: 0 },
				width: 100,
				height: 100,
			})
			display.add(rect)

			const img = new Image()
			img.src = './src/a.png'
			console.log('img~~', img)
			const rect1 = new Rect({
				leftTop: { x: 30, y: 30 },
				width: 100,
				height: 100,
				fillColor: 'red',
			})
			display.add(rect1)

			const cImg = new CImage({
				leftTop: {
					x: 60,
					y: 60,
				},
				width: 50,
				height: 50,
				// source: './aaa.png',
				source: img,
			})

			display.add(cImg)

			rect.on('mousedown', event => {
				event.isStopBubble = true
				console.log('rect点击了~~~~~~~~~', event)
			})

			rect.on('mouseup', event => {
				event.isStopBubble = true
				console.log('rect结束~~~~~~~~~', event, this)
				rect.change(
					{
						leftTop: {
							x: 100,
							y: 100,
						},
						width: 200,
						height: 200,
						fillColor: '#e67e22',
					},
					display
				)
			})

			rect.on('touchmove', event => {
				event.isStopBubble = true
				console.log('rectmove~~~~~~~~~', event)
			})

			rect1.on('mousedown', event => {
				// event.isStopBubble = true
				console.log('rect1点击了', event)
			})
		</script>
		<script src="mini_engine.js"></script>
		<script src="mini_engine.min.js"></script>
	</body>
</html>
